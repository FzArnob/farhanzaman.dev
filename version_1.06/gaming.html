<!DOCTYPE html>
<html>

<head>
  <title></title>
  <link href="view/static/runfzrun.png" rel="icon" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <link href="view/css/app.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <style>
    /* scrollbar design */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      border-radius: 9px;
      background: rgba(0, 0, 0, 0.1);
    }

    ::-webkit-scrollbar-thumb {
      background-image: linear-gradient(125deg, rgba(0, 0, 0, 0.2) 0%, #fcba03 100%);
      border-radius: 9px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-image: linear-gradient(125deg, rgba(0, 0, 0, 0.3) 0%, #ca9400 100%);
    }
    /* Gaming page specific styles */
    .gaming-profile-row {
      width: 100%;
      position: relative;
      overflow: hidden;
    }
    
    .background-video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-position: top;
      object-fit: cover;
      filter: blur(8px);
    }
    
    .gaming-profile-row::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }
    
    .videos-grid::-webkit-scrollbar {
      width: 8px;
    }
    
    .videos-grid::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.2);
      border-radius: 4px;
    }
    
    .videos-grid::-webkit-scrollbar-thumb {
      background: #fcba03;
      border-radius: 4px;
    }
    
    .videos-grid::-webkit-scrollbar-thumb:hover {
      background: #ffd700;
    }
    
    .video-item {
      background: rgba(0,0,0,0.5);
      border-radius: 10px;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .video-item:hover {
      transform: translateY(-5px);
      border: 1px solid rgba(252, 186, 3, 0.8);
      box-shadow: 0 0 10px rgba(252, 186, 3, 0.3);
    }
    .profile-left-section{
      padding: 120px 20px 20px 40px;
      width: calc(50% - 60px);
      position: relative;
      z-index: 1;
    }
    .profile-right-section {
      padding: 120px 40px 20px 20px;
      width: calc(50% - 60px);
      position: relative;
      z-index: 1;
    }
    .profile-left-section > div {
        justify-content: right;
    }
    .profile-left-section > p {
        text-align: right;
    }
    .profile-right-section > div {
        justify-content: left;
    }
    .platform-logos{
      padding-left: 30px;
    }
    .video-thumbnail {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .discord-section{
      padding: 5px 30px;
      background: rgba(48,48,48,0.7);
      margin-top: 20px;
      border-radius: 100px;
      box-shadow: 0 0 10px 5px rgba(252,186,3,0.3) inset;
    }
    .discord-section:hover {
      box-shadow: 0 0 25px rgba(252, 186, 3, 0.8);
    }
    
    .video-info {
      padding: 15px;
    }
    
    .video-title {
      color: #fff;
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      line-clamp: 2;
      overflow: hidden;
    }
    .themeBtn:hover {
      color: #fff;
    }
    .video-date {
      color: #fcba03;
      font-size: 12px;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @media (max-width: 768px) {
      .discord-section {
        text-align: center !important;
        margin-top: 20px;
      }
      
      .social-buttons {
        justify-content: center;
      }
      
      .videos-grid {
        grid-template-columns: 1fr;
      }
      
      .profile-left-section,
      .profile-right-section {
        width: 100% !important;
        margin-bottom: 20px;
      }
      
      .profile-left-section > div {
        justify-content: center;
      }
    }
    .platform-logo > div {
      background: #fff;
    }
    .platform-logo:hover {
      transform: scale(1.1);
    }
    
    .platform-logo:hover > div {
      transform: translateY(-2px);
      box-shadow: 0 0 25px rgba(252, 186, 3, 0.8);
    }
  </style>
</head>

<body class="bg1">
  <button id="back-to-top-btn">
    <span class="ico-gen">
      H
    </span>
  </button>
  <pre-loader class="pre-loader">
    <img src="view/static/runfzrun.png" />
  </pre-loader>
  <main-page class="bg1 c1 hidden">
    <div style="transition-duration: 0.2s;" class="navbar animate-left" id="navbar">
      <div class="nav-container">
        <a class="nav-logo c1 active" href="/"><img alt="logo" style="width: 70px; height: 70px;" src="view/static/runfzrun.png" class="fa-logo" />
          <span class="nav-corner bg2 animate-top"></span>
        </a>
        <div class="themeBtn animate-right" style="border-color: #fcba03;" id="theme-toogle-button">
          <span class="ico-gen themeBtn-icon" id="theme-btn">E</span>
        </div>
      </div>
    </div>
    <div id="theme-popup" class="animate-bottom">
      <div class="popup-box bg2 c2">
        <div class="popup-content">
          <div class="triangle"></div>
          <div class="popup-text">You can switch <span class="c-theme" style="color: #fcba03;">theme</span> here.</div>
          <div class="popup-button">
            <span class="ico-gen">
              F
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="main-content">
        <!-- First Row: Profile Info and Social Links -->
        <div class="row gaming-profile-row">
          <video class="background-video" autoplay muted loop>
            <source src="view/static/demo.mp4" type="video/mp4">
            Your browser does not support the video tag.
          </video>
          <div class="profile-left-section">
            <!-- Image and Name side by side -->
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
              <img src="view/static/runfzrun-dp.png" alt="Run Fz Run Profile" class="gaming-profile-img" style="width: 120px; height: 120px; border-radius: 50%; border: 2px solid #fcba03; margin-right: 15px;" />
              <h1 style="color: #fcba03; margin: 0; -webkit-text-fill-color: #fff;">Run Fz Run</h1>
            </div>
            <!-- Description below -->
            <p style="color: #fff; margin: 0; line-height: 1.6;">Gaming content creator sharing epic gaming moments, tutorials, and entertainment. Subscribe for the latest gaming videos!</p>
          </div>
          
          <div class="profile-right-section">
            <!-- Discord logo gif and animated text -->
            <div class="discord-section" style="text-align: center; cursor: pointer; max-width: fit-content;">
              <div style="display: flex; align-items: center; justify-content: left;">
                <img src="view/static/discord.gif" alt="Discord" style="width: 80px; height: 80px; margin-right: 10px;" />
                <span class="wobble animate-infinite-tossing" style="color: #ffffff; font-weight: bold; font-size: 24px;">Join Now!</span>
              </div>
            </div>
            <!-- 3 Platform logos -->
            <div class="platform-logos" style="display: flex; justify-content: left; gap: 20px; margin-top: 40px;">
              <a href="https://www.youtube.com/@runfzrun" target="_blank" class="platform-logo" style="display: inline-block; transition: transform 0.3s;">
                <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                  <span class="material-icons" style="color: #ff0000; font-size: 54px;">play_circle_filled</span>
                </div>
              </a>
              <a href="#" target="_blank" class="platform-logo" style="display: inline-block; transition: transform 0.3s;">
                <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                  <span class="material-icons" style="color: #1877f2; font-size: 54px;">facebook</span>
                </div>
              </a>
              <a href="#" target="_blank" class="platform-logo" style="display: inline-block; transition: transform 0.3s;">
                <div style="width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                  <span class="material-icons" style="background: linear-gradient(135deg, #ff0050 0%, #00f2ea 100%); color: #fff; padding: 2px; border-radius: 50%; font-size: 41px; font-weight: 300;">tiktok</span>
                </div>
              </a>
            </div>
          </div>
          <div style="z-index: 2; height: 200px; width: 100%; background: linear-gradient(to bottom, rgba(37, 37, 37, 0) 0%, rgb(37, 37, 37) 100%);"></div>
        </div>

        <!-- Second Row: YouTube Videos Grid -->
        <div class="row gaming-videos-row">
          <div class="col-sm-12">
            <div class="videos-grid" id="youtube-videos-grid" style="padding-top: 10px; display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px; max-height: 600px; overflow-y: auto; border-radius: 10px;">
              <!-- Videos will be loaded dynamically -->
              <div class="video-placeholder" style="background: rgba(252, 186, 3, 0.1); border: 2px dashed #fcba03; border-radius: 10px; padding: 40px; text-align: center; color: #fcba03;">
                <p>Loading gaming videos...</p>
                <div class="loading-spinner" style="border: 3px solid rgba(252, 186, 3, 0.3); border-top: 3px solid #fcba03; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 10px auto;"></div>
              </div>
            </div>
          </div>
        </div>

        <footer>
          <div class="container">
            
            <div class="row">
              <div class="col-sm-12">
                <div class="copyright-box">
                  <p class="copyright">&copy; Copyright <strong>farhanzaman.dev</strong>. All Rights Reserved</p>
                  <div class="credits">
                    Designed by <a href="/about" id="footer_name" style="background-color: rgba(0,0,0, 0.2); color: #fcba03; border-radius: 3px; padding: 0px 10px 2px 10px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </footer>
    </div>
  </main-page>
  <script src="view/js/profile_data.js"></script>
  <script src="view/js/gaming_yt_data.js"></script>
  <script src="view/js/lib.js"></script>
  <script src="view/js/util.js"></script>
  <script>
    document.title = 'Run Fz Run';
    document.getElementById('footer_name').innerHTML = result.profile.info.full_name;
    
    // Function to load YouTube videos from the data file
    function loadGamingVideos() {
      setTimeout(() => {
        const videosGrid = document.getElementById('youtube-videos-grid');
        videosGrid.innerHTML = '';
        
        // Check if gamingYouTubeData is available and has videos
        if (typeof gamingYouTubeData !== 'undefined' && gamingYouTubeData.pages && gamingYouTubeData.pages.length > 0) {
          // Get all videos from all pages and sort by publish date (newest first)
          let allVideos = [];
          gamingYouTubeData.pages.forEach(page => {
            if (page.videos) {
              allVideos = allVideos.concat(page.videos);
            }
          });
          
          // Sort by publish date (newest first)
          allVideos.sort((a, b) => new Date(b.video_publishTime) - new Date(a.video_publishTime));
          
          // Display first 12 videos
          const videosToShow = allVideos.slice(0, 12);
          
          videosToShow.forEach(video => {
            const videoElement = document.createElement('div');
            videoElement.className = 'video-item';
            
            // Format the date to a more readable format
            const publishDate = new Date(video.video_publishTime);
            const now = new Date();
            const diffTime = Math.abs(now - publishDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            let dateString;
            if (diffDays === 1) {
              dateString = '1 day ago';
            } else if (diffDays < 7) {
              dateString = `${diffDays} days ago`;
            } else if (diffDays < 30) {
              const weeks = Math.floor(diffDays / 7);
              dateString = weeks === 1 ? '1 week ago' : `${weeks} weeks ago`;
            } else if (diffDays < 365) {
              const months = Math.floor(diffDays / 30);
              dateString = months === 1 ? '1 month ago' : `${months} months ago`;
            } else {
              const years = Math.floor(diffDays / 365);
              dateString = years === 1 ? '1 year ago' : `${years} years ago`;
            }
            
            // Add video type badge
            let typeBadge = '';
            if (video.video_type === 'short') {
              typeBadge = '<span style="background: #ff4444; color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-left: 5px;">SHORT</span>';
            } else if (video.video_type === 'stream') {
              typeBadge = '<span style="background: #ff0000; color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-left: 5px;">LIVE</span>';
            }
            
            videoElement.innerHTML = `
              <a href="${video.video_url}" target="_blank" style="text-decoration: none;">
                <img src="${video.video_thumbnail}" alt="${video.video_title}" class="video-thumbnail" />
                <div class="video-info">
                  <div class="video-title">${video.video_title}${typeBadge}</div>
                  <div class="video-date">${dateString}</div>
                  <div style="color: #aaa; font-size: 11px; margin-top: 4px;">
                    ${video.video_view_count.toLocaleString()} views • ${video.video_like_count.toLocaleString()} likes
                  </div>
                </div>
              </a>
            `;
            videosGrid.appendChild(videoElement);
          });
          
          // Add a "Load More" button if there are more videos
          if (allVideos.length > 12) {
            const loadMoreElement = document.createElement('div');
            loadMoreElement.className = 'video-item';
            loadMoreElement.style.cursor = 'pointer';
            loadMoreElement.innerHTML = `
              <div style="display: flex; align-items: center; justify-content: center; height: 180px; background: rgba(252, 186, 3, 0.1); border: 2px dashed #fcba03;">
                <div style="text-align: center; color: #fcba03;">
                  <span class="material-icons" style="font-size: 48px; margin-bottom: 10px;">add_circle</span>
                  <div>Load More Videos</div>
                  <div style="font-size: 12px; margin-top: 5px;">${allVideos.length - 12} more available</div>
                </div>
              </div>
            `;
            
            loadMoreElement.addEventListener('click', () => {
              // Load all remaining videos
              const remainingVideos = allVideos.slice(12);
              loadMoreElement.remove();
              
              remainingVideos.forEach(video => {
                const videoElement = document.createElement('div');
                videoElement.className = 'video-item';
                
                const publishDate = new Date(video.video_publishTime);
                const now = new Date();
                const diffTime = Math.abs(now - publishDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                let dateString;
                if (diffDays === 1) {
                  dateString = '1 day ago';
                } else if (diffDays < 7) {
                  dateString = `${diffDays} days ago`;
                } else if (diffDays < 30) {
                  const weeks = Math.floor(diffDays / 7);
                  dateString = weeks === 1 ? '1 week ago' : `${weeks} weeks ago`;
                } else if (diffDays < 365) {
                  const months = Math.floor(diffDays / 30);
                  dateString = months === 1 ? '1 month ago' : `${months} months ago`;
                } else {
                  const years = Math.floor(diffDays / 365);
                  dateString = years === 1 ? '1 year ago' : `${years} years ago`;
                }
                
                let typeBadge = '';
                if (video.video_type === 'short') {
                  typeBadge = '<span style="background: #ff4444; color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-left: 5px;">SHORT</span>';
                } else if (video.video_type === 'stream') {
                  typeBadge = '<span style="background: #ff0000; color: white; padding: 2px 6px; border-radius: 3px; font-size: 10px; margin-left: 5px;">LIVE</span>';
                }
                
                videoElement.innerHTML = `
                  <a href="${video.video_url}" target="_blank" style="text-decoration: none;">
                    <img src="${video.video_thumbnail}" alt="${video.video_title}" class="video-thumbnail" />
                    <div class="video-info">
                      <div class="video-title">${video.video_title}${typeBadge}</div>
                      <div class="video-date">${dateString}</div>
                      <div style="color: #aaa; font-size: 11px; margin-top: 4px;">
                        ${video.video_view_count.toLocaleString()} views • ${video.video_like_count.toLocaleString()} likes
                      </div>
                    </div>
                  </a>
                `;
                videosGrid.appendChild(videoElement);
              });
            });
            
            videosGrid.appendChild(loadMoreElement);
          }
        }
      }, 2000); // Simulate loading delay
    }
    
    document.addEventListener("DOMContentLoaded", function () {
      const titillium = new FontFace('titillium-font', 'url(./view/static/TitilliumWeb-Regular.ttf)');
      const icons = new FontFace('icons-font', 'url(./view/static/icons.ttf)');

      const fonts = [titillium.load(), icons.load()];

      Promise.all(fonts).then(() => {
        setTimeout(function () {
          document.querySelector("pre-loader").style.display = "none"; // hide
          document.querySelector("main-page").style.display = "block"; // show
          wobbleAnimation();
          loadGamingVideos(); // Load the gaming videos
        }, 1000);

        // You can also apply any further logic here if needed.
      }).catch((error) => {
        console.error('Font loading failed:', error);
      });
    });
  </script>

</body>

</html>